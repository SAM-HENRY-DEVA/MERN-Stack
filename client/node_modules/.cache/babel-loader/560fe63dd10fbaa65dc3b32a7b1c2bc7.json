{"ast":null,"code":"import React from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const OrderSummary=_ref=>{let{order}=_ref;// Helper function to calculate the discounted price\nconst calculateDiscountedPrice=(product,quantity)=>{if(product.offers.length===0){return product.price*quantity;}const offer=product.offers[0];let discountedPrice=product.price*quantity;if(offer.type==='flat'){discountedPrice-=offer.discountValue*quantity;}else if(offer.type==='percentage'){discountedPrice-=product.price*(offer.discountValue/100)*quantity;}// For 'product' type, it's generally a free product offer, so no price reduction is applied.\nreturn discountedPrice;};// Function to calculate the total price after discount\nconst calculateTotal=()=>{return order.reduce((total,item)=>{return total+calculateDiscountedPrice(item.product,item.quantity);},0);};return/*#__PURE__*/_jsxs(\"div\",{className:\"order-summary\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Order Summary\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Product Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Original Price (Rs.)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Discount\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price After Discount (Rs.)\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:order.map((item,index)=>{const originalPrice=item.product.price*item.quantity;const discountedPrice=calculateDiscountedPrice(item.product,item.quantity);const offer=item.product.offers[0]||null;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item.product.name}),/*#__PURE__*/_jsx(\"td\",{children:item.quantity}),/*#__PURE__*/_jsxs(\"td\",{children:[\"Rs. \",originalPrice.toFixed(2)]}),/*#__PURE__*/_jsx(\"td\",{children:offer?offer.type==='flat'?`Flat Rs. ${offer.discountValue} off`:offer.type==='percentage'?`${offer.discountValue}% off`:'Buy one get one free':'No Offer'}),/*#__PURE__*/_jsxs(\"td\",{children:[\"Rs. \",discountedPrice.toFixed(2)]})]},index);})})]}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"Total: Rs. \",calculateTotal().toFixed(2)]})]});};export default OrderSummary;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","OrderSummary","_ref","order","calculateDiscountedPrice","product","quantity","offers","length","price","offer","discountedPrice","type","discountValue","calculateTotal","reduce","total","item","className","children","map","index","originalPrice","name","toFixed"],"sources":["D:/mern/grow/client/src/components/OrderSummary.js"],"sourcesContent":["import React from 'react';\n\nconst OrderSummary = ({ order }) => {\n  // Helper function to calculate the discounted price\n  const calculateDiscountedPrice = (product, quantity) => {\n    if (product.offers.length === 0) {\n      return product.price * quantity;\n    }\n\n    const offer = product.offers[0];\n    let discountedPrice = product.price * quantity;\n\n    if (offer.type === 'flat') {\n      discountedPrice -= offer.discountValue * quantity;\n    } else if (offer.type === 'percentage') {\n      discountedPrice -= (product.price * (offer.discountValue / 100)) * quantity;\n    }\n    \n    // For 'product' type, it's generally a free product offer, so no price reduction is applied.\n    return discountedPrice;\n  };\n\n  // Function to calculate the total price after discount\n  const calculateTotal = () => {\n    return order.reduce((total, item) => {\n      return total + calculateDiscountedPrice(item.product, item.quantity);\n    }, 0);\n  };\n\n  return (\n    <div className=\"order-summary\">\n      <h3>Order Summary</h3>\n      <table>\n        <thead>\n          <tr>\n            <th>Product Name</th>\n            <th>Quantity</th>\n            <th>Original Price (Rs.)</th>\n            <th>Discount</th>\n            <th>Price After Discount (Rs.)</th>\n          </tr>\n        </thead>\n        <tbody>\n          {order.map((item, index) => {\n            const originalPrice = item.product.price * item.quantity;\n            const discountedPrice = calculateDiscountedPrice(item.product, item.quantity);\n            const offer = item.product.offers[0] || null;\n            return (\n              <tr key={index}>\n                <td>{item.product.name}</td>\n                <td>{item.quantity}</td>\n                <td>Rs. {originalPrice.toFixed(2)}</td>\n                <td>\n                  {offer ? (\n                    offer.type === 'flat' ? (\n                      `Flat Rs. ${offer.discountValue} off`\n                    ) : offer.type === 'percentage' ? (\n                      `${offer.discountValue}% off`\n                    ) : (\n                      'Buy one get one free'\n                    )\n                  ) : (\n                    'No Offer'\n                  )}\n                </td>\n                <td>Rs. {discountedPrice.toFixed(2)}</td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n      <h4>Total: Rs. {calculateTotal().toFixed(2)}</h4>\n    </div>\n  );\n};\n\nexport default OrderSummary;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}