{"code":"(this[\"webpackJsonpmern-pos-frontend\"]=this[\"webpackJsonpmern-pos-frontend\"]||[]).push([[0],{19:function(t,e,c){},40:function(t,e,c){\"use strict\";c.r(e);var r=c(2),n=c.n(r),s=c(13),d=c.n(s),o=(c(19),c(14)),i=c.n(o),u=c(0);var j=t=>{let{products:e,onAddProduct:c}=t;const[n,s]=Object(r.useState)(\"\"),[d,o]=Object(r.useState)(1);return Object(u.jsxs)(\"div\",{className:\"product-form\",children:[Object(u.jsxs)(\"select\",{value:n,onChange:t=>s(t.target.value),children:[Object(u.jsx)(\"option\",{value:\"\",children:\"Select Product\"}),e.map((t=>Object(u.jsx)(\"option\",{value:t._id,children:t.name},t._id)))]}),Object(u.jsx)(\"input\",{type:\"number\",value:d,onChange:t=>o(t.target.value),min:\"1\",placeholder:\"Quantity\"}),Object(u.jsx)(\"button\",{onClick:()=>{n&&d>0&&c({product:n,quantity:d})},children:\"Add Product\"})]})};var a=t=>{let{order:e}=t;const c=(t,e)=>{if(0===t.offers.length)return t.price*e;const c=t.offers[0];let r=t.price*e;return\"flat\"===c.type?r-=c.discountValue*e:\"percentage\"===c.type&&(r-=t.price*(c.discountValue/100)*e),r};return Object(u.jsxs)(\"div\",{className:\"order-summary\",children:[Object(u.jsx)(\"h3\",{children:\"Order Summary\"}),Object(u.jsxs)(\"table\",{children:[Object(u.jsx)(\"thead\",{children:Object(u.jsxs)(\"tr\",{children:[Object(u.jsx)(\"th\",{children:\"Product Name\"}),Object(u.jsx)(\"th\",{children:\"Quantity\"}),Object(u.jsx)(\"th\",{children:\"Original Price (Rs.)\"}),Object(u.jsx)(\"th\",{children:\"Discount\"}),Object(u.jsx)(\"th\",{children:\"Price After Discount (Rs.)\"})]})}),Object(u.jsx)(\"tbody\",{children:e.map(((t,e)=>{const r=t.product.price*t.quantity,n=c(t.product,t.quantity),s=t.product.offers[0]||null;return Object(u.jsxs)(\"tr\",{children:[Object(u.jsx)(\"td\",{children:t.product.name}),Object(u.jsx)(\"td\",{children:t.quantity}),Object(u.jsxs)(\"td\",{children:[\"Rs. \",r.toFixed(2)]}),Object(u.jsx)(\"td\",{children:s?\"flat\"===s.type?`Flat Rs. ${s.discountValue} off`:\"percentage\"===s.type?`${s.discountValue}% off`:\"Buy one get one free\":\"No Offer\"}),Object(u.jsxs)(\"td\",{children:[\"Rs. \",n.toFixed(2)]})]},e)}))})]}),Object(u.jsxs)(\"h4\",{children:[\"Total: Rs. \",e.reduce(((t,e)=>t+c(e.product,e.quantity)),0).toFixed(2)]})]})};var l=function(){const[t,e]=Object(r.useState)([]),[c,n]=Object(r.useState)([]);return Object(r.useEffect)((()=>{i.a.get(\"http://localhost:5000/api/products\").then((t=>{e(t.data)})).catch((t=>{console.error(\"Error fetching products:\",t)}))}),[]),Object(u.jsxs)(\"div\",{className:\"App\",children:[Object(u.jsx)(\"h1\",{children:\"POS System\"}),Object(u.jsx)(j,{products:t,onAddProduct:e=>{const r=t.find((t=>t._id===e.product));n([...c,{product:r,quantity:e.quantity}])}}),Object(u.jsx)(a,{order:c})]})};d.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(l,{})}),document.getElementById(\"root\"))}},[[40,1,2]]]);","name":"static/js/main.f1c2540e.chunk.js","map":{"version":3,"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","axios","axios_default","jsx_runtime","components_ProductForm","_ref","products","onAddProduct","selectedProduct","setSelectedProduct","Object","quantity","setQuantity","className","children","value","onChange","e","target","map","product","_id","name","type","min","placeholder","onClick","components_OrderSummary","order","calculateDiscountedPrice","offers","length","price","offer","discountedPrice","discountValue","item","index","originalPrice","toFixed","reduce","total","src_App","setProducts","setOrder","a","get","then","response","data","catch","error","console","find","p","render","StrictMode","document","getElementById"],"sources":["static/js/main.f1c2540e.chunk.js"],"mappings":"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","ignoreList":[]},"input":"(this[\"webpackJsonpmern-pos-frontend\"] = this[\"webpackJsonpmern-pos-frontend\"] || []).push([[0],{\n\n/***/ 19:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 40:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(2);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(13);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(19);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(14);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/components/ProductForm.js\nconst ProductForm=_ref=>{let{products,onAddProduct}=_ref;const[selectedProduct,setSelectedProduct]=Object(react[\"useState\"])('');const[quantity,setQuantity]=Object(react[\"useState\"])(1);const handleAddProduct=()=>{if(selectedProduct&&quantity>0){onAddProduct({product:selectedProduct,quantity});}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"product-form\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{value:selectedProduct,onChange:e=>setSelectedProduct(e.target.value),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"\",children:\"Select Product\"}),products.map(product=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:product._id,children:product.name},product._id))]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",value:quantity,onChange:e=>setQuantity(e.target.value),min:\"1\",placeholder:\"Quantity\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:handleAddProduct,children:\"Add Product\"})]});};/* harmony default export */ var components_ProductForm = (ProductForm);\n// CONCATENATED MODULE: ./src/components/OrderSummary.js\nconst OrderSummary=_ref=>{let{order}=_ref;// Helper function to calculate the discounted price\nconst calculateDiscountedPrice=(product,quantity)=>{if(product.offers.length===0){return product.price*quantity;}const offer=product.offers[0];let discountedPrice=product.price*quantity;if(offer.type==='flat'){discountedPrice-=offer.discountValue*quantity;}else if(offer.type==='percentage'){discountedPrice-=product.price*(offer.discountValue/100)*quantity;}// For 'product' type, it's generally a free product offer, so no price reduction is applied.\nreturn discountedPrice;};// Function to calculate the total price after discount\nconst calculateTotal=()=>{return order.reduce((total,item)=>{return total+calculateDiscountedPrice(item.product,item.quantity);},0);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"order-summary\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Order Summary\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"table\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"thead\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Product Name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Quantity\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Original Price (Rs.)\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Discount\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Price After Discount (Rs.)\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tbody\",{children:order.map((item,index)=>{const originalPrice=item.product.price*item.quantity;const discountedPrice=calculateDiscountedPrice(item.product,item.quantity);const offer=item.product.offers[0]||null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:item.product.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:item.quantity}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"td\",{children:[\"Rs. \",originalPrice.toFixed(2)]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:offer?offer.type==='flat'?`Flat Rs. ${offer.discountValue} off`:offer.type==='percentage'?`${offer.discountValue}% off`:'Buy one get one free':'No Offer'}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"td\",{children:[\"Rs. \",discountedPrice.toFixed(2)]})]},index);})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h4\",{children:[\"Total: Rs. \",calculateTotal().toFixed(2)]})]});};/* harmony default export */ var components_OrderSummary = (OrderSummary);\n// CONCATENATED MODULE: ./src/App.js\n// Import Axios for API calls\nfunction App(){const[products,setProducts]=Object(react[\"useState\"])([]);// State to store products fetched from the backend\nconst[order,setOrder]=Object(react[\"useState\"])([]);// Fetch products from the backend API when the component mounts\nObject(react[\"useEffect\"])(()=>{axios_default.a.get('http://localhost:5000/api/products').then(response=>{setProducts(response.data);// Update the products state with data from API\n}).catch(error=>{console.error('Error fetching products:',error);});},[]);// Empty dependency array means this will run once when the component mounts\nconst addProductToOrder=item=>{const product=products.find(p=>p._id===item.product);setOrder([...order,{product,quantity:item.quantity}]);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"App\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"POS System\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ProductForm,{products:products,onAddProduct:addProductToOrder}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_OrderSummary,{order:order})]});}/* harmony default export */ var src_App = (App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));\n\n/***/ })\n\n},[[40,1,2]]]);","inputSourceMap":{"version":3,"sources":["D:\\mern\\grow\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!D:\\mern\\grow\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!D:\\mern\\grow\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!D:\\mern\\grow\\client\\src\\index.css","D:/mern/grow/client/src/components/ProductForm.js","D:/mern/grow/client/src/components/OrderSummary.js","D:/mern/grow/client/src/App.js","D:/mern/grow/client/src/index.js"],"names":["ProductForm","_ref","products","onAddProduct","selectedProduct","setSelectedProduct","useState","quantity","setQuantity","handleAddProduct","product","_jsxs","className","children","value","onChange","e","target","_jsx","map","_id","name","type","min","placeholder","onClick","OrderSummary","order","calculateDiscountedPrice","offers","length","price","offer","discountedPrice","discountValue","calculateTotal","reduce","total","item","index","originalPrice","toFixed","App","setProducts","setOrder","useEffect","axios","get","then","response","data","catch","error","console","addProductToOrder","find","p","ReactDOM","render","React","StrictMode","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","\nimport React, { useState } from 'react';\n\nconst ProductForm = ({ products, onAddProduct }) => {\n  const [selectedProduct, setSelectedProduct] = useState('');\n  const [quantity, setQuantity] = useState(1);\n\n  const handleAddProduct = () => {\n    if (selectedProduct && quantity > 0) {\n      onAddProduct({ product: selectedProduct, quantity });\n    }\n  };\n\n  return (\n    <div className=\"product-form\">\n      <select value={selectedProduct} onChange={(e) => setSelectedProduct(e.target.value)}>\n        <option value=\"\">Select Product</option>\n        {products.map((product) => (\n          <option key={product._id} value={product._id}>\n            {product.name}\n          </option>\n        ))}\n      </select>\n      <input\n        type=\"number\"\n        value={quantity}\n        onChange={(e) => setQuantity(e.target.value)}\n        min=\"1\"\n        placeholder=\"Quantity\"\n      />\n      <button onClick={handleAddProduct}>Add Product</button>\n    </div>\n  );\n};\n\nexport default ProductForm;\n","import React from 'react';\n\nconst OrderSummary = ({ order }) => {\n  // Helper function to calculate the discounted price\n  const calculateDiscountedPrice = (product, quantity) => {\n    if (product.offers.length === 0) {\n      return product.price * quantity;\n    }\n\n    const offer = product.offers[0];\n    let discountedPrice = product.price * quantity;\n\n    if (offer.type === 'flat') {\n      discountedPrice -= offer.discountValue * quantity;\n    } else if (offer.type === 'percentage') {\n      discountedPrice -= (product.price * (offer.discountValue / 100)) * quantity;\n    }\n    \n    // For 'product' type, it's generally a free product offer, so no price reduction is applied.\n    return discountedPrice;\n  };\n\n  // Function to calculate the total price after discount\n  const calculateTotal = () => {\n    return order.reduce((total, item) => {\n      return total + calculateDiscountedPrice(item.product, item.quantity);\n    }, 0);\n  };\n\n  return (\n    <div className=\"order-summary\">\n      <h3>Order Summary</h3>\n      <table>\n        <thead>\n          <tr>\n            <th>Product Name</th>\n            <th>Quantity</th>\n            <th>Original Price (Rs.)</th>\n            <th>Discount</th>\n            <th>Price After Discount (Rs.)</th>\n          </tr>\n        </thead>\n        <tbody>\n          {order.map((item, index) => {\n            const originalPrice = item.product.price * item.quantity;\n            const discountedPrice = calculateDiscountedPrice(item.product, item.quantity);\n            const offer = item.product.offers[0] || null;\n            return (\n              <tr key={index}>\n                <td>{item.product.name}</td>\n                <td>{item.quantity}</td>\n                <td>Rs. {originalPrice.toFixed(2)}</td>\n                <td>\n                  {offer ? (\n                    offer.type === 'flat' ? (\n                      `Flat Rs. ${offer.discountValue} off`\n                    ) : offer.type === 'percentage' ? (\n                      `${offer.discountValue}% off`\n                    ) : (\n                      'Buy one get one free'\n                    )\n                  ) : (\n                    'No Offer'\n                  )}\n                </td>\n                <td>Rs. {discountedPrice.toFixed(2)}</td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n      <h4>Total: Rs. {calculateTotal().toFixed(2)}</h4>\n    </div>\n  );\n};\n\nexport default OrderSummary;\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios'; // Import Axios for API calls\nimport ProductForm from './components/ProductForm';\nimport OrderSummary from './components/OrderSummary';\n\nfunction App() {\n  const [products, setProducts] = useState([]); // State to store products fetched from the backend\n  const [order, setOrder] = useState([]);\n\n  // Fetch products from the backend API when the component mounts\n  useEffect(() => {\n    axios.get('http://localhost:5000/api/products')\n      .then((response) => {\n        setProducts(response.data); // Update the products state with data from API\n      })\n      .catch((error) => {\n        console.error('Error fetching products:', error);\n      });\n  }, []); // Empty dependency array means this will run once when the component mounts\n\n  const addProductToOrder = (item) => {\n    const product = products.find(p => p._id === item.product);\n    setOrder([...order, { product, quantity: item.quantity }]);\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>POS System</h1>\n      <ProductForm products={products} onAddProduct={addProductToOrder} />\n      <OrderSummary order={order} />\n    </div>\n  );\n}\n\nexport default App;\n","\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"]}}