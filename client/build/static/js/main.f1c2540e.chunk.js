(this["webpackJsonpmern-pos-frontend"]=this["webpackJsonpmern-pos-frontend"]||[]).push([[0],{19:function(t,e,c){},40:function(t,e,c){"use strict";c.r(e);var r=c(2),n=c.n(r),s=c(13),d=c.n(s),o=(c(19),c(14)),i=c.n(o),u=c(0);var j=t=>{let{products:e,onAddProduct:c}=t;const[n,s]=Object(r.useState)(""),[d,o]=Object(r.useState)(1);return Object(u.jsxs)("div",{className:"product-form",children:[Object(u.jsxs)("select",{value:n,onChange:t=>s(t.target.value),children:[Object(u.jsx)("option",{value:"",children:"Select Product"}),e.map((t=>Object(u.jsx)("option",{value:t._id,children:t.name},t._id)))]}),Object(u.jsx)("input",{type:"number",value:d,onChange:t=>o(t.target.value),min:"1",placeholder:"Quantity"}),Object(u.jsx)("button",{onClick:()=>{n&&d>0&&c({product:n,quantity:d})},children:"Add Product"})]})};var a=t=>{let{order:e}=t;const c=(t,e)=>{if(0===t.offers.length)return t.price*e;const c=t.offers[0];let r=t.price*e;return"flat"===c.type?r-=c.discountValue*e:"percentage"===c.type&&(r-=t.price*(c.discountValue/100)*e),r};return Object(u.jsxs)("div",{className:"order-summary",children:[Object(u.jsx)("h3",{children:"Order Summary"}),Object(u.jsxs)("table",{children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Product Name"}),Object(u.jsx)("th",{children:"Quantity"}),Object(u.jsx)("th",{children:"Original Price (Rs.)"}),Object(u.jsx)("th",{children:"Discount"}),Object(u.jsx)("th",{children:"Price After Discount (Rs.)"})]})}),Object(u.jsx)("tbody",{children:e.map(((t,e)=>{const r=t.product.price*t.quantity,n=c(t.product,t.quantity),s=t.product.offers[0]||null;return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:t.product.name}),Object(u.jsx)("td",{children:t.quantity}),Object(u.jsxs)("td",{children:["Rs. ",r.toFixed(2)]}),Object(u.jsx)("td",{children:s?"flat"===s.type?`Flat Rs. ${s.discountValue} off`:"percentage"===s.type?`${s.discountValue}% off`:"Buy one get one free":"No Offer"}),Object(u.jsxs)("td",{children:["Rs. ",n.toFixed(2)]})]},e)}))})]}),Object(u.jsxs)("h4",{children:["Total: Rs. ",e.reduce(((t,e)=>t+c(e.product,e.quantity)),0).toFixed(2)]})]})};var l=function(){const[t,e]=Object(r.useState)([]),[c,n]=Object(r.useState)([]);return Object(r.useEffect)((()=>{i.a.get("http://localhost:5000/api/products").then((t=>{e(t.data)})).catch((t=>{console.error("Error fetching products:",t)}))}),[]),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("h1",{children:"POS System"}),Object(u.jsx)(j,{products:t,onAddProduct:e=>{const r=t.find((t=>t._id===e.product));n([...c,{product:r,quantity:e.quantity}])}}),Object(u.jsx)(a,{order:c})]})};d.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(l,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.f1c2540e.chunk.js.map